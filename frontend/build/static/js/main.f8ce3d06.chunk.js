(this.webpackJsonpstockapp=this.webpackJsonpstockapp||[]).push([[0],{102:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(18),r=a.n(c),o=(a(98),a(99),a(100),a(101),a(40)),s=a(32),i=(a(102),a(15));var m=Object(i.f)((function(e){var t=e.location.pathname;return l.a.createElement(o.a,{bg:"dark",expand:"lg",variant:"dark"},l.a.createElement(o.a.Brand,{className:"",href:"/"},l.a.createElement("span",null,"RM")," INVESTIMENTOS"),l.a.createElement(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(o.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(s.a,{className:"mr-auto"},l.a.createElement(s.a.Link,{className:"navbar-link-item",href:"/",active:"/"===t},"DASHBOARD"),l.a.createElement(s.a.Link,{className:"navbar-link-item",href:"/wallet",active:t.includes("/wallet")},"CARTEIRA"),l.a.createElement(s.a.Link,{className:"navbar-link-item",href:"/addStock",active:t.includes("/addStock")},"ADICIONAR A\xc7\xc3O"),l.a.createElement(s.a.Link,{className:"navbar-link-item",href:"/query",active:t.includes("/query")},"CONSULTA"),l.a.createElement(s.a.Link,{className:"navbar-link-item",href:"/bvsp",active:t.includes("/bvsp")},"IBOVESPA"))))})),u=a(8),d=a(9),h=a(11),p=a(10),E=a(16),g=a(84),f=a(49),b=a(25),y=(a(58),a(7)),v=a.n(y),k=a(92),x=a(83),S=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(x.a,null,l.a.createElement(k.a,{animated:!0,variant:"dark",now:e.loadingProgress,style:{width:"100%"},label:"".concat(Math.round(e.loadingProgress),"%")})))},N="https://rminvestimentos.herokuapp.com",C=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,stocks:[],loadingProgress:0,stocksId:[]},n.favoriteHandler=n.favoriteHandler.bind(Object(E.a)(n)),n.deleteHandler=n.deleteHandler.bind(Object(E.a)(n)),n}return Object(d.a)(a,[{key:"deleteHandler",value:function(e){v.a.delete("".concat(N,"/api/stock/"),{params:{pk:e.target.getAttribute("stockid")}}).then((function(e){return 201===e.status?alert("Ativo deletado com sucesso"):alert("Ops, houve algum erro"),e.status})).then((function(e){document.location.reload(201===e)}))}},{key:"favoriteHandler",value:function(e){e.persist(),e.target.classList.contains("btn-outline-info")?(e.target.classList.replace("btn-outline-info","btn-info"),e.target.firstChild.data="Favoritar"):(e.target.classList.replace("btn-info","btn-outline-info"),e.target.firstChild.data="Desfavoritar"),v.a.put("".concat(N,"/api/stock/"),{pk:parseInt(e.target.getAttribute("stockid"))}).then((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),v.a.get("".concat(N,"/api/stock/")).then((function(e){return e.data})).then((function(t){var a=0,n=[],l=[];e.props.favorite?t.forEach((function(e){e.favorite&&n.push(e.pk)})):t.forEach((function(e){e.favorite||n.push(e.pk)})),n.forEach((function(t,n,c){v.a.get("".concat(N,"/api/stock/update/").concat(t)).then((function(e){return e.data.updated_stock})).then((function(t){a++,l.push(t),e.setState({loadingProgress:100*a/c.length})})).then((function(){a===c.length&&e.setState({isLoading:!1,stocks:l})}))}))}))}},{key:"render",value:function(){var e=this,t=this.state.isLoading?l.a.createElement(S,{loadingProgress:this.state.loadingProgress}):l.a.createElement(g.a,{className:"text-dark",size:"sm",striped:!0,responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",{className:"text-center"},l.a.createElement("th",{style:{width:"20%"}},"Ativo"),l.a.createElement("th",{style:{width:"20%"}},"Pre\xe7o"),l.a.createElement("th",{style:{width:"20%"}},"Varia\xe7\xe3o(%)"),l.a.createElement("th",{style:{width:"20%"}},"Varia\xe7\xe3o(R$)"),l.a.createElement("th",{style:{width:"10%"}}),l.a.createElement("th",{style:{width:"5%"}}),l.a.createElement("th",{style:{width:"5%"}}))),l.a.createElement("tbody",null,this.state.stocks.map((function(t){var a,n=t.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),c=(t.price*(t.change_percent/100)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return a=t.change_percent>0?"success":"danger",l.a.createElement("tr",{className:"text-center",key:t.pk},l.a.createElement("td",{style:{fontSize:"18px"},className:"align-middle"},t.symbol),l.a.createElement("td",{style:{fontSize:"18px"},className:"align-middle"},n),l.a.createElement("td",{className:"align-middle"},l.a.createElement("span",{style:{fontSize:"15px"},className:"badge-".concat(a," badge-pill align-middle")},t.change_percent,"%")),l.a.createElement("td",{style:{fontSize:"15px"},className:"align-middle"},c),l.a.createElement("td",{style:{fontSize:"15px"},className:"align-middle"},l.a.createElement(b.b,{to:"/stock/".concat(t.pk)},l.a.createElement(f.a,{size:"sm",variant:"outline-info"},"Gr\xe1fico"))),l.a.createElement("td",{style:{fontSize:"18px"}},l.a.createElement(f.a,{className:"float-left",onClick:e.favoriteHandler,size:"sm",stockid:t.pk.toString(),variant:t.favorite?"outline-info":"info"},t.favorite?"Desfavoritar":"Favoritar")),l.a.createElement("td",{stockid:t.pk.toString(),style:{fontSize:"18px"}},l.a.createElement(f.a,{className:"float-left",onClick:e.deleteHandler,size:"sm",stockid:t.pk.toString(),variant:"outline-danger"},l.a.createElement("i",{stockid:t.pk.toString(),className:"fas fa-times"}))))}))));return l.a.createElement(l.a.Fragment,null,t)}}]),a}(n.Component),w=a(86),O=a(171),j=a(85),A=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,stocks:[],loadingProgress:0,stocksId:[]},n.deleteHandler=n.deleteHandler.bind(Object(E.a)(n)),n.favoriteHandler=n.favoriteHandler.bind(Object(E.a)(n)),n}return Object(d.a)(a,[{key:"favoriteHandler",value:function(e){e.persist(),e.target.classList.contains("btn-outline-info")?(e.target.classList.replace("btn-outline-info","btn-info"),e.target.firstChild.data="Favoritar"):(e.target.classList.replace("btn-info","btn-outline-info"),e.target.firstChild.data="Desfavoritar"),v.a.put("".concat(N,"/api/stock/"),{pk:parseInt(e.target.getAttribute("stockid"))}).then((function(e){console.log(e)}))}},{key:"deleteHandler",value:function(e){v.a.delete("".concat(N,"/api/stock/"),{params:{pk:e.target.getAttribute("id")}}).then((function(e){return 201===e.status?alert("Ativo deletado com sucesso"):alert("Ops, houve algum erro"),e.status})).then((function(e){document.location.reload(201===e)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),v.a.get("".concat(N,"/api/stock/")).then((function(e){return e.data})).then((function(t){var a=0,n=[],l=[];e.props.favorite&&t.forEach((function(e){e.favorite&&n.push(e.pk)})),n.forEach((function(t,n,c){v.a.get("".concat(N,"/api/stock/update/").concat(t)).then((function(e){return e.data.updated_stock})).then((function(t){a++,l.push(t),e.setState({loadingProgress:100*a/c.length})})).then((function(){a===c.length&&e.setState({isLoading:!1,stocks:l})}))}))}))}},{key:"render",value:function(){var e=this,t=this.state.isLoading?l.a.createElement(j.a,null,l.a.createElement(w.a,{style:{width:"100%"},sm:12},l.a.createElement(S,{loadingProgress:this.state.loadingProgress}))):this.state.stocks.length>0?this.state.stocks.map((function(t){var a,n=t.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return a=t.change_percent>0?"success":"danger",l.a.createElement("div",{className:"col-xl-3 col-lg-4 col-md-6 col-sm-12 p-3",key:t.pk},l.a.createElement(O.a,{className:""},l.a.createElement(O.a.Body,{style:{padding:"5px"}},l.a.createElement(x.a,null,l.a.createElement(w.a,null,l.a.createElement(x.a,null,l.a.createElement(w.a,{sm:12},l.a.createElement("div",{className:"badge bg-info z-depth-4 py-1 px-4 ml-4 mt-n2 rounded"},l.a.createElement("h4",{className:"text-white"},t.symbol)))),l.a.createElement(x.a,null,l.a.createElement(w.a,{sm:12,className:"d-flex justify-content-start"},l.a.createElement(f.a,{size:"sm",variant:"outline-info",id:t.pk,onClick:e.deleteHandler},l.a.createElement("i",{className:"fas fa-times fa-lg"})),l.a.createElement(b.b,{className:"",to:"/stock/".concat(t.pk)},l.a.createElement(f.a,{size:"sm",variant:"outline-info"},l.a.createElement("i",{className:"fas fa-chart-line fa-lg"}))))),l.a.createElement(x.a,null,l.a.createElement(w.a,{sm:12},l.a.createElement(f.a,{className:"ml-4",size:"sm",onClick:e.favoriteHandler,stockid:t.pk,variant:t.favorite?"outline-info":"info"},t.favorite?"Desfavoritar":"Favoritar")))),l.a.createElement(w.a,null,l.a.createElement(x.a,null,l.a.createElement(w.a,{sm:12},l.a.createElement("p",{className:"float-right text-uppercase text-white"},l.a.createElement("small",null,t.name.substr(0,32))))),l.a.createElement(x.a,null,l.a.createElement(w.a,{sm:12},l.a.createElement("p",{className:"float-right text-uppercase text-muted"},l.a.createElement("small",null,"Cota\xe7\xe3o")))),l.a.createElement(x.a,null,l.a.createElement(w.a,{sm:12},l.a.createElement("h4",{className:"d-flex font-weight-bold float-right text-uppercase text-white"},n,l.a.createElement("span",{className:"badge badge-pill ml-1 badge-".concat(a)},t.change_percent,"%")))))))))})):l.a.createElement("div",null," Voc\xea n\xe3o possui a\xe7\xf5es favoritas");return l.a.createElement(l.a.Fragment,null,t)}}]),a}(n.Component),D=a(167),L=(a(125),a(126),a(87)),M=a.n(L),I=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={data:[],indexes:[{name:"Bovespa",country:"brazil"},{name:"S&P 500",country:"united states"},{name:"Nasdaq",country:"united states"},{name:"Dow 30",country:"united states"}],data2:[],forexes:[{name:"USD"},{name:"EUR"},{name:"GBP"}]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=0,a=0,n=[],l=[];this.state.indexes.forEach((function(a,l,c){v.a.get("".concat(N,"/api/index/get/"),{params:{name:a.name,country:a.country}}).then((function(e){t+=1,n.push(e.data.object)})).then((function(){t===c.length&&e.setState({data:n})}))})),this.state.forexes.forEach((function(t,n,c){v.a.get("".concat(N,"/api/forex/get/"),{params:{name:t.name}}).then((function(e){a+=1,l.push(e.data.object)})).then((function(){a===c.length&&e.setState({data2:l})}))}))}},{key:"render",value:function(){var e={className:"mt-2",dots:!0,infinite:!0,speed:1500,slidesToShow:4,slidesToScroll:3,autoplaySpeed:3200,responsive:[{breakpoint:1600,settings:{slidesToShow:3}},{breakpoint:1e3,settings:{slidesToShow:1,slidesToScroll:1,autoplaySpeed:1500,speed:500}}]};return l.a.createElement(M.a,e,this.state.data.map((function(e,t){var a=e.change_percent>0?"success":"danger";return l.a.createElement(w.a,{key:"".concat(t)},l.a.createElement(O.a,{bg:"light",text:"dark",className:"z-depth-4 default-color mb-2"},l.a.createElement(O.a.Body,null,l.a.createElement("div",{className:"d-flex justify-content-around"},l.a.createElement("h5",{className:"float-left"},e.name),l.a.createElement("div",{className:"d-flex justify-content-end"},l.a.createElement("h5",null,e.price,l.a.createElement(D.a,{pill:!0,variant:a,className:"ml-2"},e.change_percent,"%")))))))})),this.state.data2.map((function(e,t){var a=e.change_percent>0?"success":"danger";return l.a.createElement(w.a,{key:"".concat(t)},l.a.createElement(O.a,{bg:"light",text:"dark",className:"z-depth-4 default-color mb-2"},l.a.createElement(O.a.Body,null,l.a.createElement("div",{className:"d-flex justify-content-around"},l.a.createElement("h5",{className:"float-left"},e.name),l.a.createElement("div",{className:"d-flex justify-content-end"},l.a.createElement("h5",null,"R$ ",e.price.toFixed(3),l.a.createElement(D.a,{pill:!0,variant:a,className:"ml-2"},e.change_percent,"%")))))))})))}}]),a}(n.Component),B=a(19),_=a.n(B),z=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={series:[],options:{chart:{type:"bar",height:350},plotOptions:{bar:{colors:{ranges:[{from:-100,to:0,color:"#F15B46"},{from:1e-8,to:100,color:"#10a11f"}]},columnWidth:"100%"}},dataLabels:{enabled:!0},yaxis:{title:{text:"Varia\xe7\xe3o"},labels:{formatter:function(e){return e.toFixed(2)+"%"}}},responsive:[{breakpoint:1e3,options:{chart:{height:400},yaxis:{show:!1},xaxis:{labels:{show:!1}}}}]}},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("".concat(N,"/api/stock/")).then((function(e){return e.data})).then((function(t){var a=[],n=[];t.forEach((function(e,t){a.push(e.change_percent),n.push(e.symbol)})),e.setState({series:[{name:"Varia\xe7\xe3o",data:a}],options:{labels:n}})}))}},{key:"render",value:function(){return l.a.createElement("div",{id:"chart"},l.a.createElement(_.a,{series:this.state.series,options:this.state.options,type:"bar"}))}}]),a}(l.a.Component),R=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement(j.a,{fluid:!0},l.a.createElement(j.a,{fluid:!0,className:"px-4"},l.a.createElement(I,null)),l.a.createElement(x.a,{className:"mt-4"},l.a.createElement(A,{favorite:!0})),l.a.createElement(x.a,{className:"mt-4"},l.a.createElement(w.a,{sm:5,className:""},l.a.createElement(O.a,{className:"mt-2",bg:"light",text:"dark"},l.a.createElement(O.a.Header,null,l.a.createElement("h3",null,"Outras a\xe7\xf5es")),l.a.createElement(O.a.Body,null,l.a.createElement(C,{favorite:!1})))),l.a.createElement(w.a,{sm:7},l.a.createElement(O.a,{className:"mt-2",bg:"light",text:"dark"},l.a.createElement(z,null)))))}}]),a}(n.Component),F=a(168),P=a(169),T=a(170),V=a(6),H=function(e){var t=e.percentageValue>0?"success":"danger";return l.a.createElement(O.a,{bg:"dark",text:"light",className:"z-depth-2 my-3"},l.a.createElement("div",{className:""},l.a.createElement("span",{className:"px-2 ml-3 py-2 mt-n3 rounded unique-color",style:{fontSize:"20px",color:"white"}},e.title.toUpperCase()),l.a.createElement("div",{className:"float-right text-right p-3"},l.a.createElement("p",{className:"text-uppercase mb-1"},e.description," ",e.descriptionValue),l.a.createElement("h4",{className:"font-weight-bold mb-0"},e.value,l.a.createElement(D.a,{pill:!0,className:"ml-1 badge-".concat(t)},e.percentage)))),l.a.createElement("div",{className:"card-body badge-".concat(t," m-2 mb-n2 rounded pt-0")}))},U=a(23),G=function(e){var t=l.a.useState(!1),a=Object(U.a)(t,2),c=a[0],r=a[1],o=l.a.useState(!1),s=Object(U.a)(o,2),i=s[0],m=s[1],u=l.a.useState(""),d=Object(U.a)(u,2),h=d[0],p=d[1],E=l.a.useState(0),f=Object(U.a)(E,2),b=f[0],y=f[1],k=l.a.useState(0),x=Object(U.a)(k,2),S=x[0],C=x[1],w=l.a.useState(""),O=Object(U.a)(w,2),j=O[0],A=O[1],D=l.a.useState(0),L=Object(U.a)(D,2),M=L[0],I=L[1],B=l.a.useState(""),_=Object(U.a)(B,2),z=_[0],R=_[1];l.a.useEffect((function(){}),[]);var F=function(e){y(parseInt(e.target.value))},T=function(e){C(parseFloat(e.target.value))},H=function(){m(!i)},G=function(e){var t=parseInt(e.target.getAttribute("id"));I(t),r(!c)},q=function(t){var a=parseInt(t.target.getAttribute("id")),n=e.data.find((function(e){return e.pk===a}));window.confirm("Deseja mesmo excluir o item ".concat(n.stock.name," (").concat(n.stock.symbol,") da sua carteira?"))?v.a.delete("".concat(N,"/api/wallet/"),{params:{pk:t.target.getAttribute("id")}}).then((function(e){201===e.status?alert("Ativo deletado com sucesso"):alert("Ops, houve algum erro")})).then((function(){e.cb("item exclu\xeddo")})):console.log("Cancelado")};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"d-flex justify-content-between mb-2"},l.a.createElement("h4",{className:"d-flex flex-column justify-content-center"},"Ativos na carteira"),l.a.createElement(n.Fragment,null,l.a.createElement(V.c,{onClick:H,color:"elegant"},"Adicionar Ativo"))),l.a.createElement(g.a,{className:"text-dark",size:"sm",striped:!0,responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",{className:"text-center"},l.a.createElement("th",null),l.a.createElement("th",null,"Corretora"),l.a.createElement("th",null,"Propriet\xe1rio"),l.a.createElement("th",null,"Ativo"),l.a.createElement("th",null,"Pre\xe7o de Compra"),l.a.createElement("th",null,"Quantidade"),l.a.createElement("th",null,"Investimento"),l.a.createElement("th",null,"Pre\xe7o Atual"),l.a.createElement("th",null,"Patrim\xf4nio"),l.a.createElement("th",null,"Desempenho(%)"),l.a.createElement("th",null,"Desempenho(R$)"),l.a.createElement("th",null))),l.a.createElement("tbody",null,e.data.map((function(e,t,a){var n=Math.round(1e4*(e.money_amount-e.investment)/e.investment)/100,c=n>0?"success":"danger";return l.a.createElement("tr",{key:t,className:"text-center"},l.a.createElement("td",{className:"align-middle"},l.a.createElement("i",{style:{cursor:"pointer"},onClick:G,id:e.pk,className:"fas fa-edit align-middle"})),l.a.createElement("td",{className:"align-middle"},e.broker),l.a.createElement("td",{className:"align-middle"},e.owner),l.a.createElement("td",{className:"align-middle"},"".concat(e.stock.name," (").concat(e.stock.symbol,")")),l.a.createElement("td",{className:"align-middle"},e.buy_price.toLocaleString("en-US",{style:"currency",currency:"BRL"})),l.a.createElement("td",{className:"align-middle"},e.stock_amount),l.a.createElement("td",{className:"align-middle"},e.investment.toLocaleString("en-US",{style:"currency",currency:"BRL"})),l.a.createElement("td",{className:"align-middle"},e.stock.price.toLocaleString("en-US",{style:"currency",currency:"BRL"})),l.a.createElement("td",{className:"align-middle"},e.money_amount.toLocaleString("en-US",{style:"currency",currency:"BRL"})),l.a.createElement("td",{className:"align-middle"},l.a.createElement("span",{className:"badge-pill badge-".concat(c)},n," %")),l.a.createElement("td",{className:"align-middle text-".concat(c)},(e.money_amount-e.investment).toLocaleString("en-US",{style:"currency",currency:"BRL"})),l.a.createElement("td",{className:"align-middle"},l.a.createElement("i",{style:{cursor:"pointer"},id:e.pk,onClick:q,className:"align-middle fas fa-times"})))})))),l.a.createElement(V.h,{isOpen:i,toggle:H},l.a.createElement(V.k,{toggle:H},"Cust\xf3dia de A\xe7\xf5es"),l.a.createElement(V.i,null,l.a.createElement(V.e,null,l.a.createElement(V.n,{className:"d-flex justify-content-center"},l.a.createElement(V.d,{md:"6"},l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),v.a.post("".concat(N,"/api/wallet/"),{stock_amount:b,symbol:h,investment:S,broker:j,owner:e.owner,buy_date:z}).then((function(e){console.log(e),201===e.status&&alert("A\xe7\xe3o adicionada ao sua carteira")})).then((function(){e.cb("item adicionado")})).catch((function(e){console.log(e)}))}},l.a.createElement("div",{className:"grey-text"},l.a.createElement(V.g,{label:"Ativo Comprado",icon:"",group:!0,style:{fontSize:"20px"},type:"text",onChange:function(e){p(e.target.value.toUpperCase())}}),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{type:"date",name:"transaction-date",className:"form-control",id:"transaction-date",onChange:function(e){return R(e.target.value)},required:!0})),l.a.createElement(V.g,{label:"Quantidade de A\xe7\xf5es",icon:"",style:{fontSize:"20px"},group:!0,type:"text",error:"wrong",success:"right",onChange:F}),l.a.createElement(V.g,{label:"Capital Investido",icon:"",style:{fontSize:"20px"},group:!0,type:"text",onChange:T}),l.a.createElement(P.a.Group,{controlId:"formBasicCheckbox"},l.a.createElement(P.a.Control,{as:"select",custom:!0,defaultValue:"",onChange:function(e){A(e.target.value)}},l.a.createElement("option",{value:"",disabled:!0},"Corretora da Opera\xe7\xe3o"),l.a.createElement("option",{value:"\xc1gora - Bradesco"},"\xc1gora"),l.a.createElement("option",{value:"Banco do Brasil"},"Banco do Brasil"),l.a.createElement("option",{value:"Ita\xfa"},"Ita\xfa")))),l.a.createElement("div",{className:"text-center"},l.a.createElement(V.c,{type:"submit",onClick:H},"Adicionar"))))))),l.a.createElement(V.j,null,l.a.createElement(V.c,{type:"button",color:"outline-elegant",onClick:H},"Fechar"))),l.a.createElement(V.h,{isOpen:c,toggle:G},l.a.createElement(V.k,{id:"editModalHeader",toggle:G},"Editando item da carteira"),l.a.createElement(V.i,null,l.a.createElement(V.e,null,l.a.createElement(V.n,{className:"d-flex justify-content-center"},l.a.createElement(V.d,{md:"6"},l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),v.a.put("".concat(N,"/api/wallet/"),{pk:M,stock_amount:b,investment:S}).then((function(t){alert("Item Editado com sucesso"),console.log(t),e.cb("item editado")}))}},l.a.createElement("div",{className:"grey-text"},l.a.createElement(V.g,{label:"Quantidade de A\xe7\xf5es",icon:"",style:{fontSize:"20px"},group:!0,type:"text",error:"wrong",success:"right",onChange:F}),l.a.createElement(V.g,{label:"Capital Investido",icon:"",style:{fontSize:"20px"},group:!0,type:"text",onChange:T})),l.a.createElement("div",{className:"text-center"},l.a.createElement(V.c,{type:"submit"},"Confirmar Edi\xe7\xe3o"))))))),l.a.createElement(V.j,null,l.a.createElement(V.c,{type:"button",color:"outline-elegant",onClick:G},"Fechar"))))},q=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).deleteTransactionItem=function(e){var t=parseInt(e.target.getAttribute("id"));if(!window.confirm("Deseja mesmo excluir essa transa\xe7\xe3o?"))return 0;v.a.delete("".concat(N,"/api/transaction/"),{params:{pk:t}}).then((function(e){return e.data})).then((function(e){n.props.cb("item deletado")}))},n.submitTransactionItem=function(e){e.preventDefault();var t=new FormData;t.append("broker",n.state.Broker),t.append("operation",n.state.Operation),t.append("date",n.state.Date),t.append("document",n.state.Document),t.append("stock",n.state.Stock.toUpperCase()),t.append("owner",n.props.owner),v.a.post("".concat(N,"/api/transaction/"),t).then((function(e){return e.data})).then((function(e){console.log(e)})).then((function(){n.props.cb("item adicionado")}))},n.state={Broker:"",Operation:"",Stock:"",Date:"",Document:"",Data:"",ModalAdd:!1},n.submitTransactionItem=n.submitTransactionItem.bind(Object(E.a)(n)),n.deleteTransactionItem=n.deleteTransactionItem.bind(Object(E.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("".concat(N,"/api/transaction/"),{params:{owner:this.props.owner}}).then((function(e){return e.data})).then((function(t){console.log(t),e.setState({Data:t})}))}},{key:"render",value:function(){var e=this,t=0===this.state.Data.length?l.a.createElement("tr",null,l.a.createElement("td",null,"Loading")):this.state.Data.map((function(t,a){var n="Compra"===t.operation?"default":"Venda"===t.operation?"secondary":"primary";return l.a.createElement("tr",{key:a},l.a.createElement("td",{className:"text-center align-middle"},t.date),l.a.createElement("td",{className:"text-center align-middle"},t.broker),l.a.createElement("td",{className:"text-center align-middle"},l.a.createElement(V.b,{color:n},l.a.createElement("span",{style:{fontWeight:"normal",fontSize:"14.4px"}},t.operation))),l.a.createElement("td",{className:"text-center align-middle"},t.stock),l.a.createElement("td",{className:"text-center align-middle"},l.a.createElement("a",{href:"".concat(N).concat(t.document),download:!0},l.a.createElement("i",{className:"text-center align-middle fas fa-file-download fa-2x"}))),l.a.createElement("td",null,l.a.createElement("i",{id:t.pk,onClick:e.deleteTransactionItem,className:"fas fa-times fa-2x"})))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"d-flex justify-content-between mb-2"},l.a.createElement("h4",{className:"d-flex flex-column justify-content-center"},"Ativos na carteira"),l.a.createElement(n.Fragment,null,l.a.createElement(V.c,{onClick:function(){return e.setState({ModalAdd:!e.state.ModalAdd})},color:"elegant"},"Adicionar Ativo"))),l.a.createElement(g.a,{responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"Data"),l.a.createElement("th",{className:"text-center"},"Corretora"),l.a.createElement("th",{className:"text-center"},"Opera\xe7\xe3o"),l.a.createElement("th",{className:"text-center"},"Ativo"),l.a.createElement("th",{className:"text-center"},"Nota de Corretagem"))),l.a.createElement("tbody",null,t)),l.a.createElement(V.h,{isOpen:this.state.ModalAdd,toggle:function(){return e.setState({ModalAdd:!e.state.ModalAdd})}},l.a.createElement(V.k,{toggle:function(){return e.setState({ModalAdd:!e.state.ModalAdd})}},"Cust\xf3dia de A\xe7\xf5es"),l.a.createElement(V.i,null,l.a.createElement(V.e,null,l.a.createElement(V.n,{className:"d-flex justify-content-center"},l.a.createElement(V.d,{md:"6"},l.a.createElement("form",{encType:"multipart/form-data",onSubmit:this.submitTransactionItem},l.a.createElement("div",{className:"grey-text"},l.a.createElement(V.g,{label:"Ativo Comprado",icon:"",group:!0,style:{fontSize:"20px"},type:"text",onChange:function(t){return e.setState({Stock:t.target.value.toUpperCase()})}}),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{type:"date",name:"transaction-date",className:"form-control",id:"transaction-date",onChange:function(t){return e.setState({Date:t.target.value})},required:!0})),l.a.createElement(P.a.Group,{controlId:"formBasicCheckbox"},l.a.createElement(P.a.Control,{as:"select",custom:!0,defaultValue:"",onChange:function(t){return e.setState({Broker:t.target.value})}},l.a.createElement("option",{value:"",disabled:!0},"Corretora da Opera\xe7\xe3o"),l.a.createElement("option",{value:"\xc1gora - Bradesco"},"\xc1gora"),l.a.createElement("option",{value:"Banco do Brasil"},"Banco do Brasil"),l.a.createElement("option",{value:"Ita\xfa"},"Ita\xfa"))),l.a.createElement(P.a.Group,{controlId:"formBasicCheckbox"},l.a.createElement(P.a.Control,{as:"select",custom:!0,defaultValue:"",onChange:function(t){return e.setState({Operation:t.target.value})}},l.a.createElement("option",{value:"",disabled:!0},"Opera\xe7\xe3o"),l.a.createElement("option",{value:"Compra"},"Compra"),l.a.createElement("option",{value:"Venda"},"Venda"),l.a.createElement("option",{value:"Compra e Venda"},"Compra e Venda"))),l.a.createElement(P.a.File,{id:"custom-file",label:"Nota de Corretagem",onChange:function(t){return e.setState({Document:t.target.files[0]})},custom:!0})),l.a.createElement("div",{className:"text-center"},l.a.createElement(V.c,{type:"submit",onClick:function(){return e.setState({ModalAdd:!e.state.ModalAdd})}},"Adicionar"))))))),l.a.createElement(V.j,null,l.a.createElement(V.c,{type:"button",color:"outline-elegant",onClick:function(){return e.setState({ModalAdd:!e.state.ModalAdd})}},"Fechar"))))}}]),a}(l.a.Component),W=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={options:{chart:{type:"donut",height:"250px"},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},title:{text:"Distribui\xe7\xe3o da carteira",align:"center",style:{fontFamily:"Oswald",fontSize:"22px"}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontFamily:"Oswald",fontSize:"26px"},value:{show:!0,fontSize:"26px",fontFamily:"Oswald",formatter:function(e){var t=parseFloat(e).toLocaleString("en-US",{style:"currency",currency:"BRL"});return"".concat(t)}}}}}},legend:{show:!0,position:"bottom"},colors:["#2E93fA","#66DA26","#546E7A","#E91E63","#FF9800","#00B746","#EF403C","#3D3D3D"],dataLabels:{enabled:!0,formatter:function(e){return Math.round(100*e,2)/100+"%"}},responsive:[{breakpoint:1e3,options:{chart:{height:400},yaxis:{show:!1},xaxis:{labels:{show:!1}}}}]},series:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=[],t=[];this.props.data.forEach((function(a){t.push(a.money_amount),e.push(a.stock.symbol)})),this.setState({series:t,options:{labels:e}})}},{key:"render",value:function(){return l.a.createElement("div",{id:"chart"},l.a.createElement(_.a,{options:this.state.options,series:this.state.series,type:"donut"}))}}]),a}(l.a.Component),$=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={options:{chart:{type:"bar",height:250},plotOptions:{bar:{horizontal:!1,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetX:-6,formatter:function(e){return Math.round(100*e,2)/100+"%"},style:{fontSize:"12px",colors:["#fff"]}},stroke:{show:!0,width:1,colors:["#fff"]},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},title:{text:"Comparativo - Ibovespa/Carteira",align:"center",style:{fontFamily:"Oswald",fontSize:"22px"}},responsive:[{breakpoint:1e3,options:{chart:{height:400},yaxis:{show:!1},xaxis:{labels:{show:!1}}}}]},series:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=[],t=[],a=[];this.props.data.forEach((function(n){t.push(n.change_percent),a.push(n.ibovespa_change),e.push(n.stock.symbol)})),this.setState({series:[{name:"Rendimento",data:t},{name:"Ibovespa",data:a}],options:{labels:e}})}},{key:"render",value:function(){return l.a.createElement("div",{id:"chart"},l.a.createElement(_.a,{options:this.state.options,series:this.state.series,type:"bar"}))}}]),a}(l.a.Component),K=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleOwnerChange=function(e){n.setState({Owner:e.target.value}),n.setState({Loading:!0}),v.a.get("".concat(N,"/api/wallet/"),{params:{owner:e.target.value}}).then((function(e){return e.data})).then((function(e){var t=Math.max.apply(Math,e.map((function(e){return e.change_percent}))),a=e.find((function(e){return e.change_percent===t})),l=Math.min.apply(Math,e.map((function(e){return e.change_percent}))),c=e.find((function(e){return e.change_percent===l})),r=e.reduce((function(e,t){return t.money_amount+e}),0),o=e.reduce((function(e,t){return t.investment+e}),0),s=Math.round(1e4*(r-o)/o,2)/100;return n.setState({Wallet:e,TotalAmount:r,TotalInvestment:o,TotalChangePct:s,MaxStockChange:a,MinStockChange:c}),e})).then((function(e){e.length>0?n.setState({Loading:!1,noData:!1}):n.setState({Loading:!1,noData:!0})}))},n.walletChangeCallback=function(e){n.setState({Loading:!0}),v.a.get("".concat(N,"/api/wallet/"),{params:{owner:n.state.Owner}}).then((function(e){return e.data})).then((function(e){var t=Math.max.apply(Math,e.map((function(e){return e.change_percent}))),a=e.find((function(e){return e.change_percent===t})),l=Math.min.apply(Math,e.map((function(e){return e.change_percent}))),c=e.find((function(e){return e.change_percent===l})),r=e.reduce((function(e,t){return t.money_amount+e}),0),o=e.reduce((function(e,t){return t.investment+e}),0),s=Math.round(1e4*(r-o)/o,2)/100;return n.setState({Wallet:e,TotalAmount:r,TotalInvestment:o,TotalChangePct:s,MaxStockChange:a,MinStockChange:c}),e})).then((function(e){e.length>0?n.setState({Loading:!1,noData:!1}):n.setState({Loading:!1,noData:!0})}))},n.submitWalletItem=function(e){e.preventDefault(),v.a.post("".concat(N,"/api/wallet/"),{stock_amount:n.state.stockAmount,symbol:n.state.stock,investment:n.state.investment,broker:n.state.broker,owner:n.state.Owner,buy_date:n.state.buy_date}).then((function(e){console.log(e),201===e.status&&alert("A\xe7\xe3o adicionada ao sua carteira")})).then((function(){n.walletChangeCallback("item adicionado")})).catch((function(e){console.log(e)}))},n.state={Loading:!1,Wallet:[],Owner:"",TotalAmount:0,TotalInvestment:0,TotalChangePct:0,MaxStockChange:{},MinStockChange:{},noData:!1,stockAmout:0,investment:0,stock:"",broker:"",buy_date:"",updateRun:!0,stockData:[]},n.handleOwnerChange=n.handleOwnerChange.bind(Object(E.a)(n)),n.walletChangeCallback=n.walletChangeCallback.bind(Object(E.a)(n)),n.submitWalletItem=n.submitWalletItem.bind(Object(E.a)(n)),n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){var e=this;this.state.updateRun&&(v.a.get("".concat(N,"/api/wallet/stocks/").concat(this.state.Owner)).then((function(e){return e.data})).then((function(t){e.setState({stockData:t})})),this.setState({updateRun:!1}))}},{key:"render",value:function(){var e=this,t=l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(F.a,{animation:"border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading..."))),a=l.a.createElement(j.a,null,l.a.createElement(x.a,{className:"d-flex justify-content-center mt-2"},l.a.createElement(O.a,{style:{width:"65%"},bg:"dark",text:"light"},l.a.createElement(O.a.Header,null,l.a.createElement("h3",{className:"d-flex justify-content-center"},"Ops, parece que n\xe3o h\xe1 itens nesta carteira, adicione seu primeiro item abaixo!")),l.a.createElement(O.a.Body,null,l.a.createElement(V.e,null,l.a.createElement(V.n,{className:"d-flex justify-content-center"},l.a.createElement(V.d,{md:"6"},l.a.createElement("form",{onSubmit:this.submitWalletItem},l.a.createElement("div",{className:"grey-text"},l.a.createElement(V.g,{label:"Ativo Comprado",icon:"",group:!0,style:{fontSize:"20px"},type:"text",onChange:function(t){e.setState({stock:t.target.value.toUpperCase()})}}),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{type:"date",name:"transaction-date",className:"form-control",id:"transaction-date",onChange:function(t){return e.setState({buy_date:t.target.value})},required:!0})),l.a.createElement(V.g,{label:"Quantidade de A\xe7\xf5es",icon:"",style:{fontSize:"20px"},group:!0,type:"text",error:"wrong",success:"right",onChange:function(t){e.setState({stockAmount:t.target.value})}}),l.a.createElement(V.g,{label:"Capital Investido",icon:"",style:{fontSize:"20px"},group:!0,type:"text",onChange:function(t){e.setState({investment:t.target.value})}}),l.a.createElement(P.a.Group,{controlId:"formBasicCheckbox"},l.a.createElement(P.a.Control,{as:"select",custom:!0,defaultValue:"",onChange:function(t){e.setState({broker:t.target.value})}},l.a.createElement("option",{value:"",disabled:!0},"Corretora da Opera\xe7\xe3o"),l.a.createElement("option",{value:"\xc1gora - Bradesco"},"\xc1gora"),l.a.createElement("option",{value:"Banco do Brasil"},"Banco do Brasil"),l.a.createElement("option",{value:"Ita\xfa"},"Ita\xfa")))),l.a.createElement("div",{className:"text-center"},l.a.createElement(V.c,{type:"submit"},"Enviar")))))))))),n=this.state.Owner,c=this.state.noData,r=this.state.Loading,o=""===n;return""===n?l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,null,l.a.createElement(x.a,{className:"d-flex justify-content-center mt-2"},l.a.createElement(O.a,{bg:"dark".toLowerCase(),text:"light"==="dark".toLowerCase()?"dark":"white",style:{width:"65%"},className:"mb-2"},l.a.createElement(O.a.Header,null,l.a.createElement("h3",{className:"d-flex justify-content-center"},"Selecionar Carteira")),l.a.createElement(O.a.Body,null,l.a.createElement(P.a,null,l.a.createElement(P.a.Group,{controlId:"formOwnerSelect"},l.a.createElement(P.a.Label,null,"Propriet\xe1rio"),l.a.createElement(P.a.Control,{as:"select",custom:!0,onChange:this.handleOwnerChange,defaultValue:""},l.a.createElement("option",{value:"",disabled:!0},"Selecionar Carteira a ser mostrada"),l.a.createElement("option",{value:"Ricardo"},"Ricardo"),l.a.createElement("option",{value:"Itala"},"Itala"),l.a.createElement("option",{value:"Caco"},"Caco"),l.a.createElement("option",{value:"Thayssa"},"Thayssa"))))))))):o?l.a.createElement("div",null):r?t:c?a:l.a.createElement(T.a.Container,{id:"left-tabs-example",defaultActiveKey:"data-table"},l.a.createElement(j.a,{fluid:!0,className:"p-4"},l.a.createElement(x.a,null,l.a.createElement(w.a,{sm:3},l.a.createElement(x.a,null,l.a.createElement(w.a,{sm:12},l.a.createElement(O.a,{className:"mb-3",bg:"light",text:"dark"},l.a.createElement(O.a.Body,null,l.a.createElement(s.a,{variant:"pills",className:"flex-column"},l.a.createElement(s.a.Item,null,l.a.createElement(s.a.Link,{style:{color:"black",fontSize:"16px"},eventKey:"highlights"},"Destaques")),l.a.createElement(s.a.Item,null,l.a.createElement(s.a.Link,{style:{color:"black",fontSize:"16px"},eventKey:"data-table"},"Itens da Carteira")),l.a.createElement(s.a.Item,null,l.a.createElement(s.a.Link,{style:{color:"black",fontSize:"16px"},eventKey:"transactions"},"Transa\xe7\xf5es"))))))),l.a.createElement(x.a,null,l.a.createElement(w.a,{sm:12},this.state.stockData.length<0?t:l.a.createElement(O.a,{bg:"light",text:"dark",className:"mb-3"},l.a.createElement(O.a.Body,null,this.state.stockData.map((function(e,t){var a=e.change_percent>0?"success":"danger";return l.a.createElement("div",{key:t,className:"mb-2"},l.a.createElement("div",{className:"d-flex w-100 justify-content-between"},l.a.createElement("h5",{className:"mb-1"},e.symbol),l.a.createElement("p",{className:"mb-1"},"R$ ",e.price.toFixed(2),l.a.createElement("span",{className:"badge badge-".concat(a," ml-1 badge-pill")},e.change_percent.toFixed(2)," %"))),l.a.createElement("div",{className:"d-flex w-100 justify-content-between"},l.a.createElement("p",{className:"mb-1"},l.a.createElement("small",{className:"text-muted"},e.name)),l.a.createElement("p",{className:"mb-1"},l.a.createElement("small",{className:"text-muted"},l.a.createElement("a",{href:"/stock/".concat(e.pk),className:"text-muted"},"Gr\xe1fico",l.a.createElement("i",{className:"align-center ml-1 fas fa-external-link-alt fa-sm"}))))))}))))))),l.a.createElement(w.a,{sm:9},l.a.createElement(O.a,{className:"mb-3",bg:"light",text:"dark"},l.a.createElement(T.a.Content,null,l.a.createElement(T.a.Pane,{eventKey:"highlights"},l.a.createElement(x.a,{className:"m-4"},l.a.createElement(w.a,{lg:4,xs:12},l.a.createElement(H,{title:"Patrim\xf4nio",description:"Capital Investido: ",descriptionValue:this.state.TotalInvestment.toLocaleString("en-US",{style:"currency",currency:"BRL"}),value:this.state.TotalAmount.toLocaleString("en-US",{style:"currency",currency:"BRL"}),percentage:"".concat(this.state.TotalChangePct," %"),percentageValue:this.state.TotalChangePct})),l.a.createElement(w.a,{lg:4,xs:12},l.a.createElement(H,{title:"Maior Lucro",description:this.state.MaxStockChange.stock.name.substr(0,18),descriptionValue:"(".concat(this.state.MaxStockChange.stock.symbol,")"),value:(Math.round(100*(this.state.MaxStockChange.money_amount-this.state.MaxStockChange.investment),2)/100).toLocaleString("en-US",{style:"currency",currency:"BRL"}),percentage:"\n                  ".concat(Math.round((this.state.MaxStockChange.money_amount-this.state.MaxStockChange.investment)/this.state.MaxStockChange.investment*1e4,2)/100," %"),percentageValue:Math.round((this.state.MaxStockChange.money_amount-this.state.MaxStockChange.investment)/this.state.MaxStockChange.investment*1e4,2)/100})),l.a.createElement(w.a,{lg:4,xs:12},l.a.createElement(H,{title:"Maior Preju\xedzo",description:this.state.MinStockChange.stock.name.substr(0,18),descriptionValue:"(".concat(this.state.MinStockChange.stock.symbol,")"),value:(Math.round(100*(this.state.MinStockChange.money_amount-this.state.MinStockChange.investment),2)/100).toLocaleString("en-US",{style:"currency",currency:"BRL"}),percentage:"\n                  ".concat(Math.round((this.state.MinStockChange.money_amount-this.state.MinStockChange.investment)/this.state.MinStockChange.investment*1e4,2)/100," %"),percentageValue:Math.round((this.state.MinStockChange.money_amount-this.state.MinStockChange.investment)/this.state.MinStockChange.investment*1e4,2)/100}))),l.a.createElement(x.a,null,l.a.createElement(w.a,{sm:12,lg:5},l.a.createElement(W,{owner:this.state.Owner,data:this.state.Wallet})),l.a.createElement(w.a,{sm:12,lg:7},l.a.createElement($,{owner:this.state.Owner,data:this.state.Wallet})))),l.a.createElement(T.a.Pane,{eventKey:"data-table"},l.a.createElement(w.a,{lg:12,xs:12},l.a.createElement(G,{cb:this.walletChangeCallback,owner:this.state.Owner,data:this.state.Wallet}))),l.a.createElement(T.a.Pane,{eventKey:"transactions"},l.a.createElement(w.a,{lg:12,xs:12},l.a.createElement(q,{cb:this.walletChangeCallback,owner:this.state.Owner,data:this.state.Wallet})))))))))}}]),a}(l.a.Component),Q=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={Indicators:void 0,Dataset2:[],Dataset:[],Date:[],Price:[],Options:{},Series:[],Options2:{labels:["Compra","Neutro","Venda"],chart:{type:"donut"},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},title:{text:"Distribui\xe7\xe3o da carteira",align:"center",style:{fontFamily:"Oswald",fontSize:"22px"}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontFamily:"Oswald",fontSize:"26px"},value:{show:!0,fontSize:"26px",fontFamily:"Oswald",formatter:function(e){return"".concat(e," indicadores")}}}}}},legend:{show:!0,position:"bottom"},colors:["#2E93fA","#66DA26","#546E7A"],dataLabels:{enabled:!0,formatter:function(e){return Math.round(100*e,2)/100+"%"}},responsive:[{breakpoint:1e3,options:{chart:{height:400},yaxis:{show:!1},xaxis:{labels:{show:!1}}}}]}},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this,n=[],l=[],c=[],r=[],o=0,s=0,i=0;v.a.get("".concat(N,"/api/stock/get/").concat(this.props.match.params.id)).then((function(e){return e.data})).then((function(a){e=a.name,(t=a.indicator)!==[]?(t.momentum.forEach((function(e){"Highs/Lows(14)"!==e.indicator&&("buy"===e.signal?o+=1:"sell"===e.signal?s+=1:i+=1)})),"buy"===t.ema_signal?o+=1:"sell"===t.ema_signal?s+=1:i+=1):t=[],console.log(a),a.data.historical.forEach((function(e,t,a){c.push(e.date),r.push(e.close);var o=0;t!==a.length-1&&(o=Math.round(100*(e.close-a[t+1].close)/a[t+1].close*100,2)/100),l.unshift({x:e.date,y:[e.open,e.high,e.low,e.close]}),n.push({date:e.date,close:e.close,change_percent:o})}))})).then((function(){a.setState({Dataset2:[o,i,s],Indicators:t,Dataset:n,Date:c,Price:r,Series:[{data:l}],Options:{chart:{type:"candlestick",height:550},title:{text:e,align:"left"},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}}})}))}},{key:"render",value:function(){var e=void 0===this.state.Indicators?l.a.createElement("div",{className:"d-flex justiy-content-center"},l.a.createElement(F.a,null)):l.a.createElement(O.a.Body,null,l.a.createElement(x.a,null,l.a.createElement(w.a,{lg:6,sm:12},l.a.createElement(_.a,{options:this.state.Options2,series:this.state.Dataset2,type:"donut",height:"500"})),l.a.createElement(w.a,{lg:6,sm:12},l.a.createElement(g.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{fontSize:"18px"}},l.a.createElement("strong",null,"Limite")),l.a.createElement("th",{style:{fontSize:"18px"}},l.a.createElement("strong",null,"Valor")))),l.a.createElement("tbody",null,this.state.Indicators===[]?l.a.createElement("tr",null," Sem dados de indicadores "):this.state.Indicators.resistances.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,"Resistencia ",t+1),l.a.createElement("td",null,"R$ ",e))})),this.state.Indicators===[]?l.a.createElement("tr",null," Sem dados de indicadores "):this.state.Indicators.supports.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,"Suportes ",t+1),l.a.createElement("td",null,"R$ ",e))})))))));return l.a.createElement(j.a,{fluid:!0},l.a.createElement(x.a,{className:"mt-4"},l.a.createElement(w.a,{xl:8,lg:9,sm:12,className:"mb-4"},l.a.createElement(x.a,null,l.a.createElement(w.a,{sm:12},l.a.createElement(O.a,{bg:"light",id:"chart"},l.a.createElement(_.a,{options:this.state.Options,series:this.state.Series,type:"candlestick",height:"500"})))),l.a.createElement(x.a,null,l.a.createElement(w.a,{className:"mt-4",xs:12},l.a.createElement(O.a,{bg:"light"},l.a.createElement(O.a.Header,null,"Indicadores"),e)))),l.a.createElement(w.a,{xl:4,lg:3,sm:12},l.a.createElement(O.a,{bg:"light"},l.a.createElement(g.a,null,l.a.createElement("thead",null,l.a.createElement("tr",{className:"text-center"},l.a.createElement("th",{style:{width:"20%"}},"Ativo"),l.a.createElement("th",{style:{width:"20%"}},"Pre\xe7o"),l.a.createElement("th",{style:{width:"20%"}},"Varia\xe7\xe3o(%)"))),l.a.createElement("tbody",null,this.state.Dataset.map((function(e,t){var a=e.change_percent>0?"success":"danger";return l.a.createElement("tr",{key:t,className:"text-center"},l.a.createElement("td",null,e.date),l.a.createElement("td",null,"R$ ",e.close),l.a.createElement("td",{className:"text-".concat(a)},e.change_percent,"%"))}))))))))}}]),a}(l.a.Component),J=function(){var e=Object(n.useState)(""),t=Object(U.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(U.a)(r,2),s=o[0],i=o[1],m=Object(n.useState)(!1),u=Object(U.a)(m,2),d=u[0],h=u[1];return l.a.createElement(j.a,null,l.a.createElement(x.a,{className:"justify-content-center mt-3"},l.a.createElement(O.a,{bg:"dark".toLowerCase(),text:"light"==="dark".toLowerCase()?"dark":"white",style:{width:"65%"},className:"mb-2"},l.a.createElement(O.a.Header,null,l.a.createElement("h3",{className:"d-flex justify-content-center "},"Adicionar A\xe7\xe3o")),l.a.createElement(O.a.Body,null,l.a.createElement(P.a,{onSubmit:function(e){e.preventDefault(),v.a.post("".concat(N,"/api/stock/"),{symbol:a.toUpperCase(),is_etf:s,is_fund:d}).then((function(e){console.log(e),201===e.status?alert("".concat(e.data.name,"(").concat(e.data.symbol,") adicionado ao portf\xf3lio")):alert("Ops, algum erro ocorreu")})).catch((function(e){console.log(e)}))}},l.a.createElement(V.g,{label:"Insira a sigla da a\xe7\xe3o que deseja adicionar ao seu portfolio",icon:"",group:!0,style:{fontSize:"20px",color:"white"},type:"text",error:"wrong",success:"right",onChange:function(e){c(e.target.value)}}),l.a.createElement(P.a.Group,{controlId:"etfCheckBox"},l.a.createElement(w.a,{className:""},l.a.createElement(P.a.Check,{checked:s,onChange:function(e){i(!s)},type:"checkbox",className:"",label:"ETF"}))),l.a.createElement(P.a.Group,{controlId:"fundCheckBox"},l.a.createElement(w.a,null,l.a.createElement(P.a.Check,{checked:d,onChange:function(e){h(!d)},type:"checkbox",className:"",label:"Fundo Imobili\xe1rio"}))),l.a.createElement(f.a,{variant:"primary",type:"submit"},"Adicionar"))))))},X=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={symbol:"",Dataset:[],Date:[],Price:[],Options:{},Series:[],loadedContent:!1,loadingContent:!1,Options2:{labels:["Compra","Neutro","Venda"],chart:{type:"donut"},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},title:{text:"Distribui\xe7\xe3o da carteira",align:"center",style:{fontFamily:"Oswald",fontSize:"22px"}},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontFamily:"Oswald",fontSize:"26px"},value:{show:!0,fontSize:"26px",fontFamily:"Oswald",formatter:function(e){return"".concat(e," indicadores")}}}}}},legend:{show:!0,position:"bottom"},colors:["#2E93fA","#66DA26","#546E7A"],dataLabels:{enabled:!0,formatter:function(e){return Math.round(100*e,2)/100+"%"}},responsive:[{breakpoint:1e3,options:{chart:{height:400},yaxis:{show:!1},xaxis:{labels:{show:!1}}}}]}},n.handleSubmit=n.handleSubmit.bind(Object(E.a)(n)),n.handleSymbolChange=n.handleSymbolChange.bind(Object(E.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"handleSymbolChange",value:function(e){this.setState({symbol:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;this.setState({loadingContent:!0}),e.preventDefault();var a,n,l=[],c=[],r=[],o=[],s=0,i=0,m=0;v.a.get("".concat(N,"/api/query/"),{params:{symbol:this.state.symbol}}).then((function(e){return e.data})).then((function(e){a=t.state.symbol.toLocaleUpperCase(),(n=e.indicator).momentum.forEach((function(e){"Highs/Lows(14)"!==e.indicator&&("buy"===e.signal?s+=1:"sell"===e.signal?i+=1:m+=1)})),"buy"===n.ema_signal?s+=1:"sell"===n.ema_signal?i+=1:m+=1,console.log(e),e.data.historical.forEach((function(e,t,a){r.push(e.date),o.push(e.close);var n=0;t!==a.length-1&&(n=Math.round(100*(e.close-a[t+1].close)/a[t+1].close*100,2)/100),c.unshift({x:e.date,y:[e.open,e.high,e.low,e.close]}),l.push({date:e.date,close:e.close,change_percent:n})}))})).then((function(){console.log(c),t.setState({Dataset2:[s,m,i],Indicators:n,Dataset:l,Date:r,Price:o,Series:[{data:c}],Options:{chart:{type:"candlestick",height:550},title:{text:a,align:"left"},yaxis:{tooltip:{enabled:!0}},responsive:[{breakpoint:1e3,options:{chart:{height:400},yaxis:{show:!0},xaxis:{labels:{show:!1}}}}]}})})).then((function(){t.setState({loadedContent:!0,loadingContent:!1})}))}},{key:"render",value:function(){var e=void 0===this.state.Indicators?l.a.createElement("div",{className:"d-flex justiy-content-center"},l.a.createElement(F.a,null)):l.a.createElement(O.a.Body,null,l.a.createElement(x.a,null,l.a.createElement(w.a,{lg:6,sm:12},l.a.createElement(_.a,{options:this.state.Options2,series:this.state.Dataset2,type:"donut",height:"500"})),l.a.createElement(w.a,{lg:6,sm:12},l.a.createElement(g.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center",style:{fontSize:"18px"}},l.a.createElement("strong",null,"Limite")),l.a.createElement("th",{className:"text-center",style:{fontSize:"18px"}},l.a.createElement("strong",null,"Valor")))),l.a.createElement("tbody",null,this.state.Indicators.resistances.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",{className:"text-center"},"Resistencia ",t+1),l.a.createElement("td",{className:"text-center"},"R$ ",e))})),this.state.Indicators.supports.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",{className:"text-center"},"Suportes ",t+1),l.a.createElement("td",{className:"text-center"},"R$ ",e))}))))))),t=l.a.createElement(F.a,{animation:"border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")),a=l.a.createElement(x.a,{className:""},l.a.createElement(w.a,{xl:8,lg:9,sm:12},l.a.createElement(x.a,null,l.a.createElement(w.a,{sm:12},l.a.createElement(O.a,{id:"chart",bg:"light",className:"mb-2"},l.a.createElement(_.a,{options:this.state.Options,series:this.state.Series,type:"candlestick",height:"500",className:""})))),l.a.createElement(x.a,null,l.a.createElement(w.a,{className:"mt-2",xs:12},l.a.createElement(O.a,{bg:"light"},l.a.createElement(O.a.Header,null,"Indicadores"),e)))),l.a.createElement(w.a,{className:"mt-2",xl:4,lg:3,sm:12},l.a.createElement(O.a,{bg:"light"},l.a.createElement(g.a,{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",{className:"text-center"},l.a.createElement("th",{style:{width:"20%"}},"Ativo"),l.a.createElement("th",{style:{width:"20%"}},"Pre\xe7o"),l.a.createElement("th",{style:{width:"20%"}},"Varia\xe7\xe3o(%)"))),l.a.createElement("tbody",null,this.state.Dataset.map((function(e,t){var a=e.change_percent>0?"success":"danger";return l.a.createElement("tr",{key:t,className:"text-center"},l.a.createElement("td",null,e.date),l.a.createElement("td",null,"R$ ",e.close),l.a.createElement("td",{className:"text-".concat(a)},e.change_percent,"%"))})))))));return l.a.createElement(j.a,{fluid:!0},l.a.createElement(x.a,{className:"justify-content-center mt-3"},l.a.createElement(O.a,{bg:"dark".toLowerCase(),text:"light"==="dark".toLowerCase()?"dark":"white",style:{width:"65%"},className:"mb-2"},l.a.createElement(O.a.Header,null,l.a.createElement("h3",{className:"d-flex justify-content-center"},"Procurar")),l.a.createElement(O.a.Body,null,l.a.createElement(P.a,{onSubmit:this.handleSubmit},l.a.createElement(P.a.Group,{controlId:"symbol"},l.a.createElement(V.g,{label:"Insira a sigla da a\xe7\xe3o a ser visualizada aqui",icon:"",style:{fontSize:"20px",color:"white"},group:!0,type:"text",error:"wrong",success:"right",onChange:this.handleSymbolChange})),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(f.a,{variant:"primary",type:"submit"},"Adicionar")))))),this.state.loadedContent?a:this.state.loadingContent?l.a.createElement("div",{className:"d-flex justify-content-center"},t):"")}}]),a}(l.a.Component),Y=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={Dataset:[],Date:[],Price:[],Options:{},Series:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[],a=[],n=[],l=[];v.a.get("".concat(N,"/api/index/historical/"),{params:{name:"Bovespa"}}).then((function(e){return e.data})).then((function(e){console.log(e),e.data.historical.forEach((function(e,c,r){n.push(e.date),l.push(e.close);var o=0;c!==r.length-1&&(o=Math.round(100*(e.close-r[c+1].close)/r[c+1].close*100,2)/100),a.unshift({x:e.date,y:[e.open,e.high,e.low,e.close]}),t.push({date:e.date,close:e.close,change_percent:o})}))})).then((function(){e.setState({Dataset:t,Date:n,Price:l,Series:[{data:a}],Options:{chart:{type:"candlestick",height:550},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}}})}))}},{key:"render",value:function(){return l.a.createElement(j.a,{fluid:!0},l.a.createElement(x.a,{className:"mt-4"},l.a.createElement(w.a,{xl:8,lg:9,sm:12},l.a.createElement(O.a,{bg:"light",id:"chart",className:"mb-4"},l.a.createElement(O.a.Header,{style:{fontSize:"20px"}},"Gr\xe1fico hist\xf3rico do \xedndice Ibovespa"),l.a.createElement(O.a.Body,null,l.a.createElement(_.a,{options:this.state.Options,series:this.state.Series,type:"candlestick",height:"500"})))),l.a.createElement(w.a,{xl:4,lg:3,sm:12},l.a.createElement(O.a,{bg:"light"},l.a.createElement(O.a.Header,{style:{fontSize:"20px"}},"Tabela com os valores do gr\xe1fico"),l.a.createElement(O.a.Body,null,l.a.createElement(g.a,null,l.a.createElement("thead",null,l.a.createElement("tr",{className:"text-center"},l.a.createElement("th",{style:{width:"20%"}},"Ibovespa"),l.a.createElement("th",{style:{width:"20%"}},"\xcdndice"),l.a.createElement("th",{style:{width:"20%"}},"Varia\xe7\xe3o(%)"))),l.a.createElement("tbody",null,this.state.Dataset.map((function(e,t){var a=e.change_percent>0?"success":"danger";return l.a.createElement("tr",{key:t,className:"text-center"},l.a.createElement("td",null,e.date),l.a.createElement("td",null,e.close," Pts"),l.a.createElement("td",{className:"text-".concat(a)},e.change_percent,"%"))})))))))))}}]),a}(l.a.Component),Z=(a(161),function(){return l.a.createElement(b.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(m,null),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",component:R}),l.a.createElement(i.a,{exact:!0,path:"/wallet",component:K}),l.a.createElement(i.a,{exact:!0,path:"/stock/:id",component:Q}),l.a.createElement(i.a,{exact:!0,path:"/addStock",component:J}),l.a.createElement(i.a,{exact:!0,path:"/query",component:X}),l.a.createElement(i.a,{exact:!0,path:"/bvsp",component:Y}))))}),ee=document.getElementById("root");r.a.render(l.a.createElement(Z,null),ee)},58:function(e,t,a){},93:function(e,t,a){e.exports=a(162)}},[[93,1,2]]]);
//# sourceMappingURL=main.f8ce3d06.chunk.js.map